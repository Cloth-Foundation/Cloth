// Test struct usage with instantiation and field access

pub struct Point {
    pub var x -> i64;
    pub var y -> i64;
}

pub struct Person {
    pub var name -> string;
    pub var age -> i32;
    pub var email -> string;
}

pub struct Rectangle {
    pub var x -> i64;
    pub var y -> i64;
    pub var width -> i64;
    pub var height -> i64;
}

pub func main() -> i64 {
    // Create struct instances
    var point1 -> Point = Point { x: 10, y: 20 };
    var point2 -> Point = Point { x: 30, y: 40 };
    
    // Create person
    var person -> Person = Person { 
        name: "Alice", 
        age: 25, 
        email: "alice@example.com" 
    };
    
    // Create rectangle
    var rect -> Rectangle = Rectangle {
        x: 0,
        y: 0,
        width: 100,
        height: 50
    };
    
    // Access fields
    var x -> i64 = point1.x;
    var y -> i64 = point1.y;
    var name -> string = person.name;
    var area -> i64 = rect.width * rect.height;
    
    return area;
}

// Function that works with structs
pub func createPoint(x: i64, y: i64) -> Point {
    return Point { x: x, y: y };
}

pub func distance(p1: Point, p2: Point) -> f64 {
    var dx -> i64 = p2.x - p1.x;
    var dy -> i64 = p2.y - p1.y;
    return sqrt(dx * dx + dy * dy);
} 